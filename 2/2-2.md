# モデル

ある概念に対して名前をつけたり、相互関係を整理することをモデリングと呼ぶ

ActiveRecordを使ってモデリング

モデルクラスに何も実装しなくてもよしなにテーブルのカラム情報を取得してモデルのフィールド情報に自動で反映する

.find()

.find_by()

とか

where(), limit() とかいろいろ

実際にデータが必要になった時点で蓄積された情報を基にSQLを発行して、データを取得する

明示的にSQLを発行したい時は、to_aをcallして配列に変換すると発行される

scopeの話

よく利用する検索結果に名前を付けてひとまとまりにしたもの

繰り返し利用するクエリを再利用できたり、名前付けて可読性をあげられる

リレーションのためにreferencesというカラム型を指定する

ActiveRecordで表現するときは has_manyとbelongs_toで行う

```ruby
class Publisher < ActiveRecord::Base
   has_may :books
end
```

Publisherから見ると、本はたくさんあるよ、的な

```ruby
class Book < ActiveRecord::Base
   belongs_to :Publisher
end
```

Bookから見ると出版社は1つだよ、的な感じ


